(this.webpackJsonpweather=this.webpackJsonpweather||[]).push([[0],{16:function(e,t,a){},37:function(e,t,a){e.exports=a(68)},42:function(e,t,a){},43:function(e,t,a){e.exports=a.p+"static/media/logo.ee7cd8ed.svg"},62:function(e,t,a){},68:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),r=a(31),s=a.n(r),c=(a(42),a(43),a(17)),i=a(1),o=(a(16),a(20)),m=a(7),u=a.n(m),d=a(10),h=a(8),g=a(32),p=a(33),E=a(36),y=a(35),_=a(13),w=a.n(_),f=(a(62),function(e){Object(E.a)(a,e);var t=Object(y.a)(a);function a(e){var n;return Object(g.a)(this,a),(n=t.call(this,e)).downloadTxtFile=function(){for(var e=document.createElement("a"),t="",a=0;a<n.props.info.length;a++){t=t.concat(n.props.info[a].region+" = [");for(var l=n.props.info[a].next_days,r=0;r<l.length;r++){var s='"'+l[r].name+'","'+l[r].description+'","'+l[r].min_temperature+'","'+l[r].max_temperature+'"';t=t.concat(s)}t=t.concat(" ]\n")}console.log("new result is",t);var c=new Blob([t],{type:"text/html"});e.href=URL.createObjectURL(c),e.download="myFile.txt",document.body.appendChild(e),e.click()},n.state={data:[]},n}return Object(p.a)(a,[{key:"render",value:function(){var e=this,t=this.state;t.location,t.days,t.daysFull,t.temps,t.maxTemps,t.minTemps,t.weather,t.icons,t.displayIndex;return console.log(this.props),l.a.createElement("div",null,l.a.createElement("div",{className:"result_row",style:{justifyContent:"center"}},this.props.info[0].next_days.map((function(t,a){return l.a.createElement("h3",{className:"single_result",onClick:function(){return e.setState({displayIndex:a})}},t.name)}))),l.a.createElement("div",{className:"tbl"},l.a.createElement("h3",null,"Results :"),l.a.createElement("hr",null),l.a.createElement("div",{className:"result_row",id:"titles",style:{overflowY:"scroll",width:"1950px"}},l.a.createElement("h3",{className:"single_result",style:{borderLeft:"none"}},"City"),l.a.createElement("h3",{className:"single_result"},"Weather"),l.a.createElement("h3",{className:"single_result"},"Max Temp"),l.a.createElement("h3",{className:"single_result"},"Min Temp"),l.a.createElement("h3",{className:"single_result"},"Weather"),l.a.createElement("h3",{className:"single_result"},"Max Temp"),l.a.createElement("h3",{className:"single_result"},"Min Temp"),l.a.createElement("h3",{className:"single_result"},"Weather"),l.a.createElement("h3",{className:"single_result"},"Max Temp"),l.a.createElement("h3",{className:"single_result"},"Min Temp"),l.a.createElement("h3",{className:"single_result"},"Weather"),l.a.createElement("h3",{className:"single_result"},"Max Temp"),l.a.createElement("h3",{className:"single_result"},"Min Temp"),l.a.createElement("h3",{className:"single_result"},"Weather"),l.a.createElement("h3",{className:"single_result"},"Max Temp"),l.a.createElement("h3",{className:"single_result"},"Min Temp"),l.a.createElement("h3",{className:"single_result"},"Weather"),l.a.createElement("h3",{className:"single_result"},"Max Temp"),l.a.createElement("h3",{className:"single_result"},"Min Temp"),l.a.createElement("h3",{className:"single_result"},"Weather"),l.a.createElement("h3",{className:"single_result"},"Max Temp"),l.a.createElement("h3",{className:"single_result"},"Min Temp")),this.props.info.map((function(e,t){return l.a.createElement("div",{className:"finalCol",id:"result"},l.a.createElement("div",{className:"result_row ",id:"weather_row",style:{display:"inline-block"}},l.a.createElement("h6",{className:"single_result"},l.a.createElement("div",{className:"result_row",id:"weather_row"}),l.a.createElement("div",null,l.a.createElement("tr",null,l.a.createElement("td",null,l.a.createElement("h3",{className:"single_result",style:{borderLeft:"none"}},e.region)),l.a.createElement("td",null,l.a.createElement("h3",{className:"single_result"},e.next_days[0].description)),l.a.createElement("td",null,l.a.createElement("h3",{className:"single_result"},e.next_days[0].max_temperature)),l.a.createElement("td",null,l.a.createElement("h3",{className:"single_result"},e.next_days[0].min_temperature)),l.a.createElement("td",null,l.a.createElement("h3",{className:"single_result"},e.next_days[1].description)),l.a.createElement("td",null,l.a.createElement("h3",{className:"single_result"},e.next_days[1].max_temperature)),l.a.createElement("td",null,l.a.createElement("h3",{className:"single_result"},e.next_days[1].min_temperature)),l.a.createElement("td",null,l.a.createElement("h3",{className:"single_result"},e.next_days[2].description)),l.a.createElement("td",null,l.a.createElement("h3",{className:"single_result"},e.next_days[2].max_temperature)),l.a.createElement("td",null,l.a.createElement("h3",{className:"single_result"},e.next_days[2].min_temperature)),l.a.createElement("td",null,l.a.createElement("h3",{className:"single_result"},e.next_days[3].description)),l.a.createElement("td",null,l.a.createElement("h3",{className:"single_result"},e.next_days[3].max_temperature)),l.a.createElement("td",null,l.a.createElement("h3",{className:"single_result"},e.next_days[3].min_temperature)),l.a.createElement("td",null,l.a.createElement("h3",{className:"single_result"},e.next_days[4].description)),l.a.createElement("td",null,l.a.createElement("h3",{className:"single_result"},e.next_days[4].max_temperature)),l.a.createElement("td",null,l.a.createElement("h3",{className:"single_result"},e.next_days[4].min_temperature)),l.a.createElement("td",null,l.a.createElement("h3",{className:"single_result"},e.next_days[5].description)),l.a.createElement("td",null,l.a.createElement("h3",{className:"single_result"},e.next_days[5].max_temperature)),l.a.createElement("td",null,l.a.createElement("h3",{className:"single_result"},e.next_days[5].min_temperature)),l.a.createElement("td",null,l.a.createElement("h3",{className:"single_result"},e.next_days[6].description)),l.a.createElement("td",null,l.a.createElement("h3",{className:"single_result"},e.next_days[6].max_temperature)),l.a.createElement("td",null,l.a.createElement("h3",{className:"single_result"},e.next_days[6].min_temperature)),l.a.createElement("td",null),l.a.createElement("td",null)),l.a.createElement("div",null)))))}))),l.a.createElement("br",null),l.a.createElement("button",{className:"btn",style:{marginLeft:"40%",height:"35px"},onClick:this.downloadTxtFile},"Export"))}}]),a}(l.a.Component));var v=function(){Object(i.f)();var e=Object(n.useState)(""),t=Object(h.a)(e,2),a=t[0],r=t[1],s=Object(n.useState)([]),c=Object(h.a)(s,2),m=c[0],g=c[1],p=Object(n.useState)([]),E=Object(h.a)(p,2),y=E[0],_=E[1],v=Object(n.useState)([]),N=Object(h.a)(v,2),x=N[0],b=N[1],k=Object(n.useState)(!1),C=Object(h.a)(k,2),j=C[0],O=C[1],z=Object(n.useState)(""),M=Object(h.a)(z,2),T=M[0],S=M[1],L=Object(n.useState)("6486085a849f33ab16d294ebe45ac73d"),W=Object(h.a)(L,2),R=W[0],U=W[1],D=Object(n.useState)(!0),F=Object(h.a)(D,2),B=F[0],H=F[1],P=function(){var e=Object(d.a)(u.a.mark((function e(t){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),(a=new FileReader).onload=function(){var e=Object(d.a)(u.a.mark((function e(t){var a,n,l,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(a=t.target.result,console.log(a),n=a.split("\n"),l=[],r=0;r<n.length;r++)console.log(n[r]),l.push({name:n[r].replace(/(\r\n|\n|\r)/gm,""),id:Math.random()});g(l),t.target.value=null;case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.readAsText(t.target.files[0]);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),A=function(){var e=Object(d.a)(u.a.mark((function e(t){var a,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return[],"","",[],n=w.a.get("https://api.openweathermap.org/data/2.5/forecast/daily?q=".concat(t.city,"&unit=metrics&appid=bc1301b0b23fe6ef52032a7e5bb70820")).then(function(){var e=Object(d.a)(u.a.mark((function e(n){var l,r,s,c,i,m,d;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(n),l=new Date(1e3*(n.data.list[0].sunrise+n.data.city.timezone)),r=new Date(1e3*(n.data.list[0].sunset+n.data.city.timezone)),s=l.getUTCHours()+":"+l.getUTCMinutes(),c=r.getUTCHours()+":"+r.getUTCMinutes(),i=function(){return new Promise((function(e,a){w.a.post("https://react.weatherengine.online:3001/data/"+t.city,{City:t.city}).then((function(t){console.log(t),e(t.data)}))}))},e.next=8,i();case 8:return m=e.sent,d=JSON.parse(m),console.log(d),_((function(e){return[].concat(Object(o.a)(e),[d.weather_data[0]])})),console.log(y),console.log(m),a={city:d.weather_data[0].region,celsius:d.weather_data[0].temp_now,ferinheight:9*d.weather_data[0].temp_now/5+32,humidity:d.weather_data[0].humidity,takss:d.weather_data[0].next_days[0].description,winddeg:t.cityWeatherData.winddeg,windspeed:d.weather_data[0].wind},console.log(t.cityWeatherData),console.log(a),console.log(a),e.abrupt("return",[a,s,c]);case 19:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){console.log("error in fetching weather data",e)})),console.log("check",n),e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),I=function(e,t){console.log("data is ",e);var a=e.list[0].weather[0].description;"few clouds"===a&&(a="sun clouds"),"few clouds: 11-25%"===a||"Partly Cloudy"===a?a="sun clouds":"partly cloudy (night)"===a?a="moon clouds":"Mostly cloudy (day)"===a?a="heavy clouds sun":"mostly cloudy (night)"===a?a="heavy clouds moon":"scattered clouds: 25-50%"===a||"broken clouds"===a||"fog"===a||"overcast clouds"===a||"scattered clouds"===a||"broken clouds"===a||"overcast clouds"===a||"mist"===a?a="clouds":"light snow"===a||"Snow"===a||"Snow"===a||"Heavy snow"===a||"Sleet"===a||"Light shower sleet"===a||"Shower sleet"===a||"Light rain and snow"===a||"Rain and snow"===a||"Light shower snow"===a||"Shower snow"===a||"Heavy shower snow"===a?a="snow":"light intensity drizzle"===a||"drizzle"===a||"heavy intensity drizzle"===a||"light intensity drizzle rain"===a||"drizzle rain"===a||"heavy intensity drizzle rain"===a||"shower rain and drizzlen"===a||"heavy shower rain and drizzle"===a||"shower drizzle"===a||"light rain"===a||"moderate rain"===a||"heavy intensity rain"===a||"very heavy rain"===a||"extreme rain"===a||"freezing rain"===a||"light intensity shower rain"===a||"shower rain"===a||"heavy intensity shower rain"===a||"ragged shower rain\t"===a||"shower rain"===a?a="rain":"Clear"===a?a="sun":"Clear (night)"===a?a="moon":"hot"===a||"clear (day)"===a?a="sun":"clear (night)"===a||"clear sky (night)"===a?a="moon":"clear sky (day)"===a?a="sun":"thunderstorm with light rain"===a||"thunderstorm with rain"===a||"thunderstorm with heavy rain"===a||"light thunderstorm"===a||"thunderstorm"===a||"heavy thunderstorm"===a||"ragged thunderstorm"===a||"thunderstorm with light drizzle"===a||"tropical storm"===a||"Severe Thunderstorms"===a||"thunderstorm with drizzle"===a||"thunderstorm with heavy drizzle"===a||"thundershowers"===a||"isolated thundershowers"===a?a="thunders":"Undefined"===a?a="clouds":"Mostly Clear"===a?a="sun clouds":"Mostly Cloudy"===a?a="heavy clouds sun":"Sunny"===a||"clear sky"===a?a="sun":"Breezy"===a?a="clouds":"Mostly Sunny"===a?a="sun clouds":"Rain"===a&&(a="rain");var n=Math.round(e.list[0].main.temp),l=Math.round(1.8*e.list[0].main.temp+32);n.toString().length<2&&(n="0"+n);var r=e.list[0].main.humidity;return{takss:a,celsius:n,windspeed:e.list[0].wind.speed,winddeg:e.list[0].wind.deg,ferinheight:l,humidity:r}};return l.a.createElement("div",{className:"main"},l.a.createElement("div",{className:"Header"},l.a.createElement("div",{className:"key",style:{color:"white"},onClick:function(){return O(!j)}},l.a.createElement("img",{src:"images/key.png",alt:"no-key",width:"50",height:"50"})),j&&l.a.createElement("div",{className:"header-input"},l.a.createElement("input",{type:"text",className:"input-box",onChange:function(e){return S(e.target.value)}}),l.a.createElement("img",{src:"images/add.png",alt:"no-add",height:"40",width:"40",style:{padding:"10px",verticalAlign:"middle"},onClick:function(){U(T),O(!j)}}))),l.a.createElement("div",{className:"content"},B&&l.a.createElement("div",{className:"result_row",style:{minWidth:"60%"}},l.a.createElement("input",{type:"text",value:a,onChange:function(e){return r(e.target.value)}}),l.a.createElement("img",{src:"images/add.png",alt:"no-add",height:"40",width:"40",style:{paddingLeft:"10px"},onClick:function(){var e={name:a,id:Math.random()};g([].concat(Object(o.a)(m),[e]))}})),B&&l.a.createElement("div",{className:"gallery"},l.a.createElement("img",{src:"images/weather.png",alt:"no-weather",height:"170",width:"170",className:"image"}),l.a.createElement("h3",{className:"get",onClick:function(e){_([]);var t=[];m.map((function(e){t.push(w()({method:"get",url:"https://api.openweathermap.org/data/2.5/find?q=".concat(e.name,"&APPID=").concat(R,"&units=metric")}))})),Promise.all(t).then((function(e){var t=[];e.map(function(){var e=Object(d.a)(u.a.mark((function e(a){var n,l,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=I(a.data),l={cityWeatherData:n,city:a.data.list[0].name},e.next=4,A(l);case 4:r=e.sent,console.log("weather results are :",r),t.push(r),b([].concat(t));case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())})).catch((function(e){console.log(e)}))}},"GET ",l.a.createElement("br",null),"Weather")),l.a.createElement("br",null),l.a.createElement("div",{className:"last-col"},l.a.createElement("button",{className:"red-btn",onClick:function(){H(!0)}},"Current Weather"),l.a.createElement("button",{className:"black-btn",onClick:function(){0!==y.length?H(!1):window.alert("Enter cities first")}},"5 Day Forecast"))),B&&l.a.createElement("div",{className:"bottom"},l.a.createElement("div",{className:"left",id:"Lresult"},l.a.createElement("h3",null,"City"),l.a.createElement("hr",null),l.a.createElement("div",{className:"city"},l.a.createElement("h3",null,"City name"),l.a.createElement("h3",null,"Actions")),m.map((function(e){return l.a.createElement("div",{className:"city"},l.a.createElement("h3",null,e.name),l.a.createElement("img",{src:"images/remove.png",alt:"no-remove",height:"40",width:"40",className:"actionbtn",style:{paddingLeft:"5px"},onClick:function(){var t=m.filter((function(t){return t.id!==e.id}));g(t)}}))}))),l.a.createElement("div",{className:"right"},l.a.createElement("h3",null,"Results :"),l.a.createElement("hr",null),l.a.createElement("div",{className:"result_row",id:"titles"},l.a.createElement("h3",{className:"single_result",style:{borderLeft:"none"}},"City"),l.a.createElement("h3",{className:"single_result"},"Condition"),l.a.createElement("h3",{className:"single_result"},"celsius"),l.a.createElement("h3",{className:"single_result"},"fahrenheight"),l.a.createElement("h3",{className:"single_result"},"Wind-Deg"),l.a.createElement("h3",{className:"single_result"},"WindSpeed"),l.a.createElement("h3",{className:"single_result"},"Humidity"),l.a.createElement("h3",{className:"single_result"},"Sunrise"),l.a.createElement("h3",{className:"single_result"},"Sunset")),l.a.createElement("div",{className:"firstCol",id:"L_result"},x.map((function(e){return l.a.createElement("div",{className:"result_row",id:"weather_row"},l.a.createElement("h3",{className:"single_result",style:{borderLeft:"none"}},e[0].city))}))),l.a.createElement("div",{className:"finalCol",id:"result"},x.map((function(e){return l.a.createElement("div",{className:"result_row",id:"weather_row"},l.a.createElement("h3",{className:"single_result"},e[0].takss),l.a.createElement("h3",{className:"single_result"},e[0].celsius),l.a.createElement("h3",{className:"single_result"},e[0].ferinheight),l.a.createElement("h3",{className:"single_result"},e[0].winddeg),l.a.createElement("h3",{className:"single_result"},e[0].windspeed),l.a.createElement("h3",{className:"single_result"},e[0].humidity),l.a.createElement("h3",{className:"single_result"},e[1]),l.a.createElement("h3",{className:"single_result"},e[2]))}))))),!B&&l.a.createElement("div",null,l.a.createElement(f,{info:y})),B&&l.a.createElement("div",{className:"buttons"},l.a.createElement("button",{className:"btn",onClick:function(){console.log(m);var e=[];m.forEach((function(t,a){var n=t.name+"\n";e.push(n),console.log(n)})),console.log(e);var t=document.createElement("a"),a=new Blob(e,{type:"text/html"});t.href=URL.createObjectURL(a),t.download="cities.txt",document.body.appendChild(t),t.click()}},"Save"),l.a.createElement("input",{style:{marginLeft:"25px"},type:"file",onChange:function(e){return P(e)}}),l.a.createElement("button",{className:"btn",style:{marginLeft:"40%",height:"35px"},onClick:function(){console.log(x),console.log("*****"),console.log(m);var e=[];x.forEach((function(t,a){var n=t[0].city+'=["'+t[0].takss+'","'+t[0].celsius+'","'+t[0].ferinheight+'","'+t[0].winddeg+'","'+t[0].windspeed+'","'+t[0].humidity+'","'+t[1]+'","'+t[2]+'"]\n';e.push(n),console.log(n)})),console.log(e);var t=document.createElement("a"),a=new Blob(e,{type:"text/html"});t.href=URL.createObjectURL(a),t.download="myFile.txt",document.body.appendChild(t),t.click()}},"Export")))};var N=function(){return l.a.createElement(c.a,null,l.a.createElement("div",null,l.a.createElement(i.c,null,l.a.createElement(i.a,{exact:!0,path:"/"},l.a.createElement(v,null)),l.a.createElement(i.a,{exact:!0,path:"/Current"},l.a.createElement(v,null)),l.a.createElement(i.a,{exact:!0,path:"/Fivedays"},l.a.createElement(f,null)))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(l.a.createElement(l.a.StrictMode,null,l.a.createElement(N,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[37,1,2]]]);
//# sourceMappingURL=main.9ab4b2b6.chunk.js.map